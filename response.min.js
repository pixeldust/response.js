// Response 0.3.0.20120224 | responsejs.com | MIT License
window.Response=function(a,b,c,d,e){function bk(){if(!bk.on){b.fn.dataset=H;b.fn.deletes=I;u(["inX","inY","inViewport"],function(a,c){b.fn[c]=function(a,d){return b(L(this,function(b){return!d===f[c](b,a)}))}});bk.on=1}return f}function bj(a){var b=m("scroll"),d=m("allLoaded"),e=/webkit\//i.test(c.navigator.userAgent);G(a,function(a){a instanceof Object||l("create @args must be object(s)");
var c=r(bi).configure(a),f,g=c.verge,j=c.breakpoints;if(!j.length){return}f=j[0]||j[1]||false;h.ready(function(){function h(){c.each(function(a,b){if($(c[a].$,g)){c[a].updateDOM()}})}function a(){c.reset().each(function(a,b){c[a].decideValue().updateDOM()}).trigger(d)}c.target().each(function(a,b){c[a]=r(c).prepareData(b);if(!e||$(c[a].$,g)){c[a].updateDOM()}});if(c.dynamic&&f<P){i.on(m("resize"),a)}if(!e){return}i.on(b,h);c.$.one(d,function(){i.off(b,h)})})});return f}"use strict";
var f,g=d.documentElement,h=b(d),i=b(c),j="i"+a,k=1,l=function(a){throw"Error using Response."+(a||"")},m=function(b){return b+"."+a},n=!!c.JSON&&!!JSON.parse,o=function(b){b.setAttribute("data-a-b",a);return!!(b.dataset&&b.dataset.aB===a)}(d.createElement(a)),p=b!==c.jQuery?b:function(a){return a instanceof b?a:b(a)},q=function(a){return a&&a.nodeType&&a.nodeType===1?a:a[0]&&a[0].nodeType&&a[0].nodeType===1?a[0]:false},r=Object.create||function(a){
function b(){}b.prototype=a;return new b},s=Array.isArray||b.isArray,t=function(a,b,c){var d=[],e=-1,f=a.length;while(e++<f){e in a&&(d[e]=b.call(c,a[e]))}return d},u=function(a,b){var c=-1,d=a.length;while(c++<d){c in a&&b(c,a[c])}},v=/[^a-z0-9\-\_\.]/gi,w=/([a-z])([A-Z])/g,x=/-(.)/g,y=/^data-(.+)$/,z=/\s+/,A=/\./g,B=function(a){return a.replace(y,"$1").replace(x,function(a,b){
return b.toUpperCase()})},C=function(a){return"data-"+(a?a.replace(y,"$1").replace(w,"$1-$2").toLowerCase():a)},D=function(a){return"string"===typeof a?a.toLowerCase().replace(v,""):false},E=function(a){var b;return!a||"string"!==typeof a?a:"true"===a?true:"false"===a?false:"undefined"===a?e:"null"===a?null:isFinite(b=parseFloat(a))?b:a},F=function(a,c,d){b.each(c,function(b,c){a[b]=c||d?c:a[b]});return a},G=function(a,b){return s(a)?t(a,b):b(a)},H=function(a,c){
var d=arguments.length,e=q(this)||l("dataset @elem"),f,g=false,h;if(d){if(s(a)){g=true;a=a[0]}if("string"===typeof a){a=C(a);if(1===d){f=e.getAttribute(a);return g?E(f):f}if(this===e||2>(h=this.length||1)){e.setAttribute(a,c)}else{while(h--){h in this&&H.apply(this[h],arguments)}}}else if(a instanceof Object){for(h in a){if(a.hasOwnProperty(h)){H.call(this,h,a[h])}}}return this}if(o){return e.dataset}f={};b.each(e.attributes,function(a,b){if(y.test(b.nodeName)){
var c=B(b.nodeName);f[c]=b.nodeValue}});return f},I=function(a){if("string"===typeof a){var b=p(this);u(a.split(z),function(a,c){c&&b.removeAttr(C(c))})}return this},J=function(a,b,c){return 2<arguments.length?H.call(a,b,c):H.call(a,b)},K=function(a,b){return I.call(a,b)},L=function(a,b,c){var d,e=[],f=a.length;for(d=0;d<f;d++){if(!c!==!b(a[d],d)){e.push(a[d])}}return e},M=function(a){G(a,function(a){"function"===typeof a||l("action");h.ready(a);i.resize(a)});
return this},N=c.screen.width,O=c.screen.height,P=Math.max(N,O),Q=g.clientWidth?function(){return g.clientWidth}:function(){return i.width()},R=g.clientHeight?function(){return g.clientHeight}:function(){return i.height()},S=function(a,b,c){b=b||0;return!c?a>=b:a>=b&&a<=c},T=function(){var a=h.width()-Q();return 0<a?a:0},U=function(){var a=h.height()-R();return 0<a?a:0},V=function(){return c.pageXOffset||g.scrollLeft},W=function(){
return c.pageYOffset||g.scrollTop},X=function(a,b,c,d,e){e="number"===typeof e?e:0;return c+d>=a-e&&a+b>=c-e},Y=function(a,b){a=p(a);return a.length&&X(a.offset().left,a.width(),V(),Q(),b)},Z=function(a,b){a=p(a);return a.length&&X(a.offset().top,a.height(),W(),R(),b)},$=function(a,b){return(!T()||Y(a,b))&&(!U()||Z(a,b))},_=function(a,b,c){return S(c?k*Q():Q(),a,b)},ba=function(a,b,c){return S(c?k*R():R(),a,b)},bb={band:function(a,b){return S(N,a,b)},wave:function(a,b){
return S(O,a,b)}},bc=c.matchMedia||c.msMatchMedia,bd=function(a){var b=c.devicePixelRatio;if(!arguments.length){return b||(bd(2)?2:bd(1.5)?1.5:bd(1)?1:0)}if(!isFinite(a)){return false}if(b){return b>=a}a="only all and (min--moz-device-pixel-ratio:"+a+")";return!bc?false:bc(a).matches||bc(a.replace("-moz-","")).matches},be=function(a){var b={IMG:1,INPUT:1,SOURCE:3,EMBED:3,TRACK:3,IFRAME:5,AUDIO:5,VIDEO:5,SCRIPT:5},c=b[a.tagName.toUpperCase()]||-1;return 4>c?c:"string"===typeof
a.getAttribute("src")?5:-5},bf=function(a,c,d){a&&c||l("store");u(a,function(a,e){if(d||!J(e,c)){J(e,c,0<be(e)?e.getAttribute("src"):b(e).html()||"")}});return f},bg=function(a){a=s(a)?a:"string"===typeof a?a.split(z):[];return b(t(a,function(a){return"["+C(a).replace(A,"\\.")+"]"}).join())},bh=function(a,b){a&&s(b)||l("access");return t(b,H,a)},bi=function(){
var a=[],c={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},d={width:_,height:ba};a[false]=a[true]=[];d["device-width"]=bb.band;d["device-height"]=bb.wave;d["device-pixel-ratio"]=bd;return{e:0,$:0,mode:0,breakpoints:0,prefix:0,prop:"width",keys:[],dynamic:0,values:[],method:0,verge:e,newValue:0,currValue:1,usedpr:false,cut:function(a,b){b=b||(this.usedpr?k*P:P);return L(a,function(a){return a<=b})},valid8:function(){
var a=this.breakpoints,b=this.prop,d;if(!a){return c[b]||c[b.split("-").pop()]||l("create @prop")}s(a)||l("create @breakpoints");d=a.length;a=L(a,isFinite).sort(function(a,b){return a-b});return d===a.length?a:false},reset:function(){a[false]=[true];a[true]=[true];return this},memoize:function(b,c){if("boolean"!==typeof a[c][b]){a[c][b]=this.method(b,undefined,c)}return a[c][b]},configure:function(a){
var b=this;F(b,a,true);b.usedpr=Boolean(a.usedpr);b.verge=isFinite(b.verge)?b.verge:Math.min(P,500);b.prefix=D(b.prefix)||l("create @prefix");b.method=d[b.prop]||l("create @prop");b.dynamic="d"!==b.prop[0];b.breakpoints=b.cut(b.valid8());b.keys=t(b.breakpoints,function(a){return b.prefix+a});return b},target:function(){this.$=bg(this.keys);bf(this.$,j);this.keys.push(j);return this},each:function(a){var b=this.$,c=-1;while(c++<b.length){c in b&&a(c,b[c])}
return b},decideValue:function(){var a=0,b=this.breakpoints,c=b.length,d=c;while(!a&&d--){if(this.memoize(b[d],this.usedpr)){a=this.values[d]}}this.newValue=a||this.values[c];return this},prepareData:function(a){this.e=a;this.$=b(a);this.mode=be(this.e);this.values=bh(this.$,this.keys);return this.decideValue()},updateDOM:function(){if(this.currValue===this.newValue){return this}this.currValue=this.newValue;
return 0<this.mode?this.e.setAttribute("src",this.newValue):this.$.html(this.newValue)}}}();f={viewportW:Q,viewportH:R,deviceW:N,deviceH:O,deviceMax:P,deviceMin:N+O-P,inX:Y,inY:Z,inViewport:$,scrollX:V,scrollY:W,overflowX:T,overflowY:U,band:_,wave:ba,device:bb,dpr:bd,action:M,dataset:J,deletes:K,route:G,merge:F,store:bf,target:bg,access:bh,create:bj,media:bc,render:E,decide:function(){l("decide: method depreciated")},
chain:bk};h.ready(function(a){k=bd()||1;a=J(d.body,"responsejs");if(a){a=n?JSON.parse(a):b.parseJSON?b.parseJSON(a):{};if(a.create){bj(a.create)}}});return f}("Response",this.jQuery||this.Zepto,this,this.document)
